<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:Model="clr-namespace:PPApp.Model"
             x:Class="PPApp.View.SearchPage"
             Title="Pantry Pal">

    <VerticalStackLayout Padding="10" Spacing="10">

        <!-- Toolbar/Profile button can be uncommented later -->
        <!--
        <ToolbarItem Text="Profile"
                     IconImageSource="profile.png"
                     Order="Primary"
                     Priority="0"
                     Clicked="BtnUser_Clicked" />
        -->

        <Label Text="What ingredients do you have?"
            FontSize="18"
            HorizontalOptions="Center" />

        <!-- Search Bar -->
        <SearchBar x:Name="searchBar"
                   Placeholder="e.g. chicken, tomato, rice"
                   TextChanged="OnSearchBarTextChanged" />

        <!-- Most Similar Recipes Results -->
        <CollectionView x:Name="RecipesCollectionView">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="Model:Recipe">
                    <Border Padding="10" Margin="0,5">
                        <VerticalStackLayout>
                            <Label Text ="{Binding Name}"
                                FontAttributes="Bold"
                                FontSize="16" />
                            <Label Text="{Binding Url}"
                                FontSize="12" />
                            <Label Text="Binding IngredientsString}"
                                FontSize="12"
                                TextColor="Gray" />
                        </VerticalStackLayout>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>