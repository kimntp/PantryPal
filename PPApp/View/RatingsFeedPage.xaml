<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:Model="clr-namespace:PPApp.Model"
             x:Class="PPApp.View.RatingsFeedPage"
             Title="Ratings Feed">

    <ContentPage.Content>

        <VerticalStackLayout Padding="15" Spacing="15">

            <!-- Add Rating Button -->
            <Button Text="Add Rating"
                    x:Name="addRatingButton"
                    HeightRequest="45"
                    Clicked="OnAddRatingClicked"/>

            <!-- Ratings Feed -->
            <CollectionView x:Name="ratingsFeedView"
                            SelectionMode="None">

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="Model:RecipeRating">
                        <VerticalStackLayout Padding="15" Spacing="8" Margin="0,0,0,20"
                                             BackgroundColor="White">

                            <Label Text="{Binding UserName}"
                                   FontSize="16" FontAttributes="Bold" />

                            <Label Text="{Binding RecipeName}"
                                   FontSize="14" TextColor="#444" />

                            <Label Text="{Binding StarsDisplay}"
                                   FontSize="20"
                                   TextColor="#f5a623" />

                            <Label Text="{Binding Review}"
                                   FontSize="14"
                                   TextColor="#222" />

                            <Label Text="{Binding Date, StringFormat='{0:MMM dd, yyyy}'}"
                                   FontSize="12"
                                   TextColor="#777" />
                        </VerticalStackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>

            </CollectionView>

        </VerticalStackLayout>

    </ContentPage.Content>
</ContentPage>
