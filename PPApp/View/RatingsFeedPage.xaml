<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:Model="clr-namespace:PPApp.Model"
             x:Class="PPApp.View.RatingsFeedPage"
             Title="Ratings Feed">

    <Grid Padding="10">
        <CollectionView x:Name="ratingsFeedView"
                        ItemsSource="{Binding PublicRatings}"
                        SelectionMode="Single"
                        BackgroundColor="Transparent"
                        VerticalOptions="FillAndExpand">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="Model:RecipeRating">
                    <Frame Padding="15"
                           Margin="5"
                           CornerRadius="5"
                           BackgroundColor="#FFB893B8"
                           HasShadow="True">

                        <VerticalStackLayout>
                            <Label Text="{Binding UserName}" 
                                   FontSize="16" 
                                   FontAttributes="Bold" />

                            <Label Text="{Binding RecipeName}" 
                                   FontSize="14" 
                                   TextColor="#444" />

                            <Label Text="{Binding StarsDisplay}" 
                                   FontSize="20" 
                                   TextColor="#f5a623" />

                            <Label Text="{Binding Review}" 
                                   FontSize="14" 
                                   TextColor="#222" />

                            <Label Text="{Binding Date, StringFormat='{0:MMM dd, yyyy}'}" 
                                   FontSize="12" 
                                   TextColor="#777" />
                        </VerticalStackLayout>
                            <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnRecipe_Tapped" NumberOfTapsRequired="1" />
                           </Frame.GestureRecognizers>

                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>

            <CollectionView.ItemsLayout>
                <LinearItemsLayout Orientation="Vertical"
                                   ItemSpacing="5" />
            </CollectionView.ItemsLayout>
        </CollectionView>
    </Grid>
</ContentPage>
